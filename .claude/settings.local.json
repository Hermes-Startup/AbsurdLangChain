{
  "permissions": {
    "allow": [
      "Bash(rm:*)",
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(taskkill:*)",
      "Bash(cmd /c \"taskkill /PID 53992 /F\")",
      "Bash(netstat:*)",
      "Bash(powershell \"Stop-Process -Id 53992 -Force\")",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(\n  ''https://npqjuljzpjvcqmrgpyqj.supabase.co/'',\n  ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wcWp1bGp6cGp2Y3FtcmdweXFqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDExNzMwNiwiZXhwIjoyMDc5NjkzMzA2fQ.3V42Bj7BJtMioa2bHfqMe9toCXPdwSKgD9jwZLKYMP8''\n\\);\n\nasync function test\\(\\) {\n  console.log\\(''Testing log_prompt RPC...''\\);\n  \n  // Test the RPC function\n  const { data, error } = await supabase.rpc\\(''log_prompt'', {\n    p_candidate_id: ''123e4567-e89b-12d3-a456-426614174000'',\n    p_prompt_text: ''Test prompt from Claude Code'',\n    p_prompt_json: { messages: [{ role: ''user'', content: ''Test prompt from Claude Code'' }] },\n    p_provider: ''test'',\n    p_tool_name: ''Claude Code Test'',\n    p_user_agent: ''Claude-Code-Test/1.0'',\n    p_model_requested: ''gemini-1.5-flash'',\n    p_request_metadata: { test: true },\n    p_response_status: null,\n    p_response_time_ms: null,\n    p_tokens_used: null,\n    p_response_json: null,\n  }\\);\n    \n  if \\(error\\) {\n    console.log\\(''Error:'', error.message\\);\n    console.log\\(''Code:'', error.code\\);\n    console.log\\(''Details:'', error.details\\);\n  } else {\n    console.log\\(''RPC success! Returned:'', data\\);\n  }\n}\n\ntest\\(\\);\n\")",
      "Bash(node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(\n  ''https://npqjuljzpjvcqmrgpyqj.supabase.co/'',\n  ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wcWp1bGp6cGp2Y3FtcmdweXFqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDExNzMwNiwiZXhwIjoyMDc5NjkzMzA2fQ.3V42Bj7BJtMioa2bHfqMe9toCXPdwSKgD9jwZLKYMP8''\n\\);\n\nasync function query\\(\\) {\n  console.log\\(''Querying admin_audit.prompt_logs...''\\);\n  \n  // Query from admin_audit schema\n  const { data, error } = await supabase\n    .schema\\(''admin_audit''\\)\n    .from\\(''prompt_logs''\\)\n    .select\\(''id, candidate_id, provider, tool_name, prompt_text_preview, created_at''\\)\n    .order\\(''created_at'', { ascending: false }\\)\n    .limit\\(5\\);\n    \n  if \\(error\\) {\n    console.log\\(''Error:'', error.message\\);\n  } else {\n    console.log\\(''Found'', data?.length || 0, ''entries:''\\);\n    data?.forEach\\(\\(row, i\\) => {\n      console.log\\(\\(i+1\\) + ''.'', row.id.slice\\(0,8\\) + ''...'', ''|'', row.tool_name, ''|'', row.provider, ''|'', row.prompt_text_preview?.slice\\(0,50\\) + ''...'', ''|'', row.created_at\\);\n    }\\);\n  }\n}\n\nquery\\(\\);\n\")",
      "Bash(node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(\n  ''https://npqjuljzpjvcqmrgpyqj.supabase.co/'',\n  ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wcWp1bGp6cGp2Y3FtcmdweXFqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDExNzMwNiwiZXhwIjoyMDc5NjkzMzA2fQ.3V42Bj7BJtMioa2bHfqMe9toCXPdwSKgD9jwZLKYMP8''\n\\);\n\nasync function query\\(\\) {\n  console.log\\(''Querying via get_prompt_logs function...''\\);\n  \n  // Try to get logs via a custom function if exists\n  const { data, error } = await supabase.rpc\\(''get_recent_prompt_logs'', {\n    p_limit: 5\n  }\\);\n    \n  if \\(error\\) {\n    console.log\\(''get_recent_prompt_logs Error:'', error.message\\);\n    \n    // Try direct select on a view if exposed\n    const { data: viewData, error: viewError } = await supabase\n      .from\\(''prompt_logs_view''\\)\n      .select\\(''*''\\)\n      .limit\\(5\\);\n      \n    if \\(viewError\\) {\n      console.log\\(''View error:'', viewError.message\\);\n      console.log\\(''\\\\nThe log was successfully created via log_prompt RPC.''\\);\n      console.log\\(''You can verify in Supabase dashboard under admin_audit.prompt_logs table.''\\);\n    } else {\n      console.log\\(''View data:'', viewData\\);\n    }\n  } else {\n    console.log\\(''Logs:'', JSON.stringify\\(data, null, 2\\)\\);\n  }\n}\n\nquery\\(\\);\n\")",
      "Bash(powershell \"Remove-Item -Recurse -Force ''c:\\\\Users\\\\aaron\\\\Documents\\\\AbsurdLangChain\\\\.next''\")",
      "Bash(powershell \"Get-Process -Name ''node'' | Stop-Process -Force\")",
      "Bash(node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(\n  ''https://npqjuljzpjvcqmrgpyqj.supabase.co/'',\n  ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wcWp1bGp6cGp2Y3FtcmdweXFqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDExNzMwNiwiZXhwIjoyMDc5NjkzMzA2fQ.3V42Bj7BJtMioa2bHfqMe9toCXPdwSKgD9jwZLKYMP8''\n\\);\n\nasync function test\\(\\) {\n  // Get the most recent log entries\n  const { data, error } = await supabase.rpc\\(''log_prompt'', {\n    p_candidate_id: ''check-only'',\n    p_prompt_text: ''CHECK'',\n    p_prompt_json: {},\n    p_provider: ''check'',\n    p_tool_name: ''check'',\n    p_user_agent: ''check'',\n    p_model_requested: ''check'',\n    p_request_metadata: {},\n    p_response_status: null,\n    p_response_time_ms: null,\n    p_tokens_used: null,\n    p_response_json: null,\n  }\\);\n    \n  if \\(error\\) {\n    console.log\\(''RPC Error:'', error.message\\);\n  } else {\n    console.log\\(''RPC works. New log ID:'', data\\);\n    console.log\\(''\\\\nCheck Supabase dashboard -> SQL Editor and run:''\\);\n    console.log\\(''SELECT id, candidate_id, tool_name, prompt_text_preview, created_at FROM admin_audit.prompt_logs ORDER BY created_at DESC LIMIT 10;''\\);\n  }\n}\n\ntest\\(\\);\n\")",
      "Bash(node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(\n  ''https://npqjuljzpjvcqmrgpyqj.supabase.co/'',\n  ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wcWp1bGp6cGp2Y3FtcmdweXFqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDExNzMwNiwiZXhwIjoyMDc5NjkzMzA2fQ.3V42Bj7BJtMioa2bHfqMe9toCXPdwSKgD9jwZLKYMP8''\n\\);\n\nasync function test\\(\\) {\n  console.log\\(''Testing log_prompt RPC after migration fix...''\\);\n  \n  const { data, error } = await supabase.rpc\\(''log_prompt'', {\n    p_candidate_id: ''123e4567-e89b-12d3-a456-426614174000'',\n    p_prompt_text: ''Test prompt after migration fix'',\n    p_prompt_json: { messages: [{ role: ''user'', content: ''Test prompt after migration fix'' }] },\n    p_provider: ''test'',\n    p_tool_name: ''Migration Test'',\n    p_user_agent: ''Test/1.0'',\n    p_model_requested: ''gemini-1.5-flash'',\n    p_request_metadata: { test: true },\n    p_response_status: null,\n    p_response_time_ms: null,\n    p_tokens_used: null,\n    p_response_json: null,\n  }\\);\n    \n  if \\(error\\) {\n    console.log\\(''ERROR:'', error.message\\);\n  } else {\n    console.log\\(''SUCCESS! Log ID:'', data\\);\n    console.log\\(''\\\\nNow test with Cursor - make a prompt and check Supabase.''\\);\n  }\n}\n\ntest\\(\\);\n\")",
      "Bash(powershell \"Get-Process -Name ''node'' -ErrorAction SilentlyContinue | Stop-Process -Force\")",
      "Bash(powershell \"Stop-Process -Id 117616 -Force\")"
    ]
  }
}
